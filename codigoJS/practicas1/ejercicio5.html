<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="index, follow">
        <meta name="author" content="Ricardo Santiago Tomé">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="icon" type="image/png" sizes="96x96" href="../../../../webroot/images/favicon-96x96.png">
        <link rel="stylesheet" href="../../webroot/css/estilos.css"/>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <title>Ejercicio 5 práctrica 1</title>
    </head>
    <body>
        <!--Crea un script que permita validar una clave introducida por el usuario y tenga 3 intentos para introducirla bien.
             Si no la introduce bien, le da error y se sale del programa. La clave debe ser un número de 6 dígitos-->
        <header>
            <h1>Desarrollo Aplicaciones Web Entorno Cliente</h1>
            <h2>Ejercicios prácticos</h2>
            <h3>Ejercicio 5</h3>
        </header>
        <main>
            <article>
                <h3>Crea un script que permita validar una clave introducida por el usuario y tenga 3 intentos para introducirla bien.
             Si no la introduce bien, le da error y se sale del programa. La clave debe ser un número de 6 dígitos</h3><br>
            </article>
            <script>
                /**
                 * @author Ricardo Santiago Tomé RicardoSantom en Github <https://github.com/RicardoSantom>
                 * @since Octubre 2022
                 * @version 0.1
                 * @param clave Constante de tipo entero y 6 dígitos de longitud que tendrá que intentar ser adivinada por el usuario
                 * @param intento Variable que recogerá la propuesta de clave del usuario.
                 * @param acierto Variable booleana que cambiará de valor según el usuario acierte o falle en sus intentos.
                 * @param contadorFallos Variable de tipo entero que contará el número de intentos del usuario.
                 * @description Este programa establece una constante con el valor de 6 dígitos para intentar ser adivinada por el usuario.
                 * Este lo intentará introduciendo sus apuestas por teclado. Si lo acierta a la primera, le informa de ello, si necesita más
                 * de un intento hasta un máximo de tres, también le informa de ello. Y si excede el número de tres intentos, se para
                 * el seguir intentándolo y se informa al usuario de ello.
                 */
                
                const  CLAVE = 123456;
                var intento;
                var acierto = false;
                var contadorFallos = 0;
                document.write('<div id="idScript>');
                do {
                    //A la entrada a este bucle do while, se pide la clave y se sale en cuanto la variable acierto sea verdadera.
                    intento = prompt("Introduzca clave");
                    if (CLAVE == parseInt(intento)) {
                        //Si el usuario acierta la clave, se le informa de su éxito
                        alert("Enhorabuena, eres un máquina de la vida, has acertado la clave.");
                        //Se pone a true la variable para que se cumpla la condición y el bucle do while no se ejecute más vece.
                        acierto = true;
                        if (contadorFallos == 0) {
                            //Aún en el caso anterior( el usuario ha acertado a la primera), evaluo que el contador de fallos sea
                            //igual a 0, de ser así le informo de que ha acertado a la primera. 
                            alert(" Y lo has logrado a la primera.")
                        }
                    } else {
                        //Sino, es que ha errado su intento, le informo de ello.
                        alert("Error, vuelve a intentarlo.");
                        //Incremento en uno el contador de fallos.
                        contadorFallos++;
                        //La variable booleana cambia a false para que el bucle do while se siga ejecutando.
                        acierto = false;
                    }
                    if (contadorFallos == 3) {
                        //Si el contador de fallos ha llegado a 3 cambio el valor de la bariable booleana a true para que no
                        //se vuelva a ejecutar el bucle.
                        acierto = true;
                        //E informo al usuario de ello.
                        alert("Ha superado el número de intentos, refresque la memoria he inténtelo otro día");
                    }
                } while (acierto == false);
                //Una vez terminada la ejecución del bucle informo al usuario de su número de intentos antes del éxito
                //Esto lo evalua un condicional if, si ha cometido menos de 3 fallos es que en algún momento lo ha acertado.
                if (contadorFallos < 3) {
                    alert("Ha cometido " + contadorFallos + " errores antes de lograrlo.");
                } else {
                    //Si no, es que ha cometido más de tres fallos y también le informo de este extremo.
                   alert("Ha cometido " + contadorFallos + " fallos y no ha logrado acertar la clave.");
                }
                document.write('</div>');
            </script>
        </main>
        <footer>
            <p>2022-23  IES LOS SAUCES. <a href="http://daw208.ieslossauces.es/index.html" id="enlacePrincipal" title="Enlace a Index Principal">Ricardo Santiago Tomé</a> © Todos los derechos reservados</p>
            <a href="https://github.com/RicardoSantom" target="blank" id="github" title="RicardoSantom en GitHub">
            </a>
            <a href="https://www.linkedin.com/in/ricardo-santiago-tom%C3%A9/" id="linkedin" title="Ricardo Santiago Tomé en Linkedim" target="_blank"></a>
            <a href="http://daw208.ieslossauces.es/doc/curriculumRicardo.pdf" class="material-icons" title="Curriculum Vitae Ricardo Santiago Tomé" target="_blank" id="curriculum"><span class="material-icons md-18">face</span></a>
            <a href="http://daw208.ieslossauces.es/208DWECproyectoDWEC/indexDWEC.html" id="enlaceSecundario" title="Enlace a Index Proyecto Tema3">Index Proyecto DWEC</a>
        </footer>
    </body>
</html>